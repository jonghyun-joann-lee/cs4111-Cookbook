<!DOCTYPE html>
<html>
  <style>
    body{ 
      font-size: 15pt;
      font-family: arial;
    }
  </style>

<head>
  <title>GravanosCookBook - Edit Review </title>
</head>

<body>
  <h1>GravanosCookBook</h1>

  <p>
    {% if session.get('user_id') %}
        Current user is {{ users[session['user_id']] }}
    {% else %}
        No user selected.
    {% endif %}
  </p>

  <h2>Edit your review</h2>

  <form action="{{ url_for('edit_review', recipe_id=recipe_id, review_number=review_number) }}" method="post">
    <label for="rating">Rating (1-5):</label>
    <!-- Prefill with current rating and content -->
    <input type="number" name="rating" value="{{ review.rating }}" min="1" max="5" required 
           style="width: 30px; height: 30px; font-size: 16px;"> 
    <br>
    <label for="content">Review:</label>
    <textarea name="content" style="width: 100%; height: 150px; font-size: 16px;">{{ review.content }}</textarea>
    
    <button type="submit" style="font-size: 16px; padding: 10px 20px;">Update Review</button>
  </form>

  <!-- Option to go back -->
  <h4><a href="#" onclick="goBack()">Go to previous page</a></h4>
  
  <script>
  function goBack() {
    if (history.length > 1) {
        history.back();
    } else {
        window.location.href = '/'; 
    }
    }
  </script>

</body>

</html>
